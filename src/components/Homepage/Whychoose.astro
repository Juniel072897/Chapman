---
/**
 * Whychoose.astro
 * Usage: <Whychoose />
 * Put icons in /public/images/
 */
const items = [
  {
    icon: "/images/Family-owned-operated-Icon-1.png",
    title: "Local Family Owned & Operated",
    desc:
      "We bring a personal touch to every quality service with a strong sense of community.",
  },
  {
    icon: "/images/Same-or-Next-Day-Service-Icon-1.png",
    title: "Same or Next Day Service",
    desc:
      "Experience the convenience you deserve with our commitment to same or next-day service.",
  },
  {
    icon: "/images/Quality-repair-icon-1.png",
    title: "Quality Repairs & Installation",
    desc:
      "Our skilled team delivers quality craftsmanship that stands the test of time.",
  },
  {
    icon: "/images/Trained-Licensed-Insured-Technicians-con-1.png",
    title: "Trained, Licensed & Insured Technicians",
    desc:
      "Rest easy knowing we have qualified plumbing professionals that adhere to the industryâ€™s standards.",
  },
  {
    icon: "/images/Clear-Communication-icon-1.png",
    title: "Clear Communication",
    desc:
      "Our clients are informed and engaged throughout the plumbing service â€” promoting trust & informed decision-making.",
  },
  {
    icon: "/images/Timely-Response-Resolution-icon-1.png",
    title: "Timely Response & Resolution",
    desc:
      "We provide prompt & efficient solutions that minimize disruptions and costs â€” giving you peace of mind.",
  },
];
---

<section class="section whychoose section--brand-red animate-root" data-animate>
  <div class="container container--wide whychoose__inner">
    <p class="whychoose__eyebrow animate-item" style="--d:0.05s">With Decades of Experience</p>

    <h2 class="whychoose__title animate-item" style="--d:0.15s">Why Choose Chapman Plumbing</h2>

    <div class="whychoose__grid">
      {items.map((it, i) => (
        <div class="whychoose__item animate-item" style={`--d:${0.25 + i * 0.1}s`}>
          <div class="whychoose__icon">
            <img src={it.icon} alt="" loading="lazy" decoding="async" />
          </div>
          <h3 class="whychoose__itemTitle">{it.title}</h3>
          <p class="whychoose__desc">{it.desc}</p>
        </div>
      ))}
    </div>

    <div class="whychoose__cta animate-item" style="--d:0.95s">
      <a href="tel:2052365014" class="btn btn-success">ðŸ“ž&nbsp; Call Us Today</a>
    </div>
  </div>
</section>

<style>

.whychoose.section--brand-red{ background: var(--color-primary-red); }
.whychoose__inner,
.whychoose__inner h2,
.whychoose__inner h3,
.whychoose__inner p{ color:#fff; }

.whychoose__inner{ text-align:center; display:grid; gap:1.25rem; }

.whychoose__eyebrow{ opacity:.95; margin-bottom:.25rem; }
.whychoose__eyebrow::after{
  content:""; display:block; width:120px; height:3px;
  margin:.5rem auto 0; border-radius:999px; background:rgba(255,255,255,.85);
}

.whychoose__grid{ display:grid; gap:2rem; margin-top:1.25rem; }
@media (min-width:640px){ .whychoose__grid{ grid-template-columns:repeat(2,minmax(0,1fr)); } }
@media (min-width:1024px){ .whychoose__grid{ grid-template-columns:repeat(3,minmax(0,1fr)); gap:3rem 3.5rem; } }

.whychoose__item{ display:grid; justify-items:center; gap:.75rem; padding:.25rem; }

.whychoose__icon img{
  width: clamp(50px, 5vw, 120px);
  height: clamp(50px, 5vw, 120px);
  object-fit: contain;
}

.whychoose__itemTitle{ margin:.5rem 0 0; }
.whychoose__desc{ max-width:36ch; margin:.25rem auto 0; }

.whychoose__cta{ margin-top:2.25rem; display:grid; justify-content:center; }

@keyframes fadeInUp{ from{opacity:0; transform:translateY(30px)} to{opacity:1; transform:translateY(0)} }
.animate-root .animate-item{ opacity:0; transform:translateY(30px); }
.animate-root.is-visible .animate-item{ animation:fadeInUp .6s ease-out forwards; animation-delay:var(--d,0s); }
@media (prefers-reduced-motion:reduce){
  .animate-root .animate-item,
  .animate-root.is-visible .animate-item{ animation:none!important; opacity:1!important; transform:none!important; }
}
</style>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const section = document.querySelector('[data-animate].whychoose');
    if (!section) return;
    const reveal = () => section.classList.add('is-visible');

    if ('IntersectionObserver' in window) {
      const io = new IntersectionObserver((entries, obs) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            reveal();
            obs.unobserve(entry.target);
          }
        });
      }, { threshold: 0.2 });
      io.observe(section);
    } else {
      reveal();
    }
  });
</script>
